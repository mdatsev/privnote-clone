<% content_for :title, "Note" %>
<label for="password">password:</label>
<input type="password" id="password"><br>
<button id="view">View and delete</button>
<script>
        $("#view").click((e) => {
            e.preventDefault();
            $.ajax({
                method: "POST",
                beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))},
                url: "<%=@note.slug%>/raw",
                data: {password: $("#password").get(0).value}
            })
            .done(content => $("#content").html(content))
            .fail((er) => alert(er.statusText))
        });
</script>